<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>4	 Managing the desktop</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME=HEADING6> </A>
<A HREF="BOOK_7.HTM"><IMG ALIGN=BOTTOM SRC="next" WIDTH=69 HEIGHT=24></A> <A HREF="BOOK_5.HTM"><IMG ALIGN=BOTTOM SRC="prev" WIDTH=69 HEIGHT=24></A> <A HREF="USERGUIDE"><IMG ALIGN=BOTTOM SRC="top" WIDTH=69 HEIGHT=24></A> <A HREF="TOC.HTM"><IMG ALIGN=BOTTOM SRC="content" WIDTH=69 HEIGHT=24></A> <A HREF="../INDEX/MAIN.HTM"><IMG ALIGN=BOTTOM SRC="index" WIDTH=69 HEIGHT=24></A><P>
RISC OS 3.7 User Guide<P>
<HR>
<A NAME=HEADING6-0> </A>
<H1>4  <A NAME=MARKER-9-5> </A>Managing the desktop <IMG SRC="PICS3/BO6IM157" WIDTH=22 HEIGHT=30>  </H1>
<HR>
This chapter tells you about the day-to-day running of your computer. It shows you how to control the <A NAME=MARKER-2-6> </A>desktop using the <A NAME=MARKER-2-7> </A>Task manager, how to shut the computer down, and how to get the most out of your computer's memory.<P>
<A NAME=HEADING6-2> </A>
<H2> <A NAME=MARKER-9-8> </A>Introducing the Task manager</H2>
<IMG SRC="PICS3/BO6IM158" WIDTH=22 HEIGHT=33>  The <A NAME=MARKER-2-9> </A>Task manager controls all the 'tasks' running on the computer. Think of it as a <A NAME=MARKER-2-10> </A>control panel, with which you can monitor and control the computer system. <P>
You'll mostly use the Task manager for three things</B>:<P>
<UL>

<LI>Monitoring and controlling <A NAME=MARKER-2-11> </A>tasks and <A NAME=MARKER-2-12> </A>memory<P>

<LI>Saving <A NAME=MARKER-2-13> </A>Desktop boot files (this is described in detail in <A HREF=BOOK_5.HTM#MARKER-9-12><I>Customising the desktop start-up procedure</I> on page 51</A>)<P>

<LI>Shutting the computer down, prior to <A NAME=MARKER-2-15> </A>switching off or <A NAME=MARKER-2-16> </A>resetting.<P>
</UL>
You can also use the Task manager to access the RISC OS <A NAME=MARKER-2-17> </A>command line in various ways - see <A HREF="../Book3b/BOOK3_2.HT#HEADING1-6"><I>The command line</I> on page 397</A>.<P>
<A NAME=HEADING6-9> </A>
<H2> <A NAME=MARKER-9-18> </A>Controlling <A NAME=MARKER-2-19> </A>tasks and memory</H2>
<IMG SRC="PICS3/BO6IM159" WIDTH=22 HEIGHT=31>  Click on the Task manager icon to see a window containing details of the current tasks and the use of the computer's memory</B>:<P><IMG SRC="PICS3/BO6IM160" WIDTH=351 HEIGHT=162>  <P>
<A NAME=HEADING6-11> </A>
<H3> Tasks window areas</H3>
The <A NAME=MARKER-2-21> </A>Tasks window is divided into four areas</B>:<P>
<UL>

<LI>Application tasks<P>

<LI>Module tasks<P>

<LI>System memory allocation<P>

<LI><A NAME=MARKER-2-25> </A>Dynamic areas.<P>
</UL>
You can alter values shown with red bars by dragging the end of the bar. The Tasks window is updated as applications are running. This allows you to monitor the state of the system.<A NAME=MARKER-2-26> </A><P>
Any changes you make with the Task manager are forgotten when you reset the computer. If you need to change <A NAME=MARKER-2-27> </A>system settings often, you may find it more convenient to change them permanently using the !Boot configuration application (see <A HREF=BOOK_4.HTM#MARKER-9-67><I>Changing the computer's configuration</I> on page 31</A>).<P>
<A NAME=HEADING6-19> </A>
<H4> <A NAME=MARKER-2-28> </A>Application tasks</H4>
This area shows how much memory current applications are using. The bars marked Next and <A NAME=MARKER-2-29> </A>Free show how much memory is allocated by default to an application when it starts up, and how much free memory is remaining in the system; you can change these values. However, most applications override the values allocated to Next and Free, and take as much memory as they need (assuming it is available).<P><IMG SRC="PICS3/BO6IM161" WIDTH=351 HEIGHT=164>  <P>
<P>
<A NAME=HEADING6-22> </A>
<H4> Module tasks</H4>
<A NAME=MARKER-2-31> </A>This section lists all tasks which are running as relocatable modules (extensions to the operating system) and the amount of free memory in the module area<P><IMG SRC="PICS3/BO6IM162" WIDTH=351 HEIGHT=144>  .<P>
<A NAME=HEADING6-24> </A>
<H4> <A NAME=MARKER-9-32> </A>System <A NAME=MARKER-9-33> </A>memory allocation</H4>
<A NAME=MARKER-2-34> </A>This section shows how the computer's memory is being used.<P><IMG SRC="PICS3/BO6IM163" WIDTH=351 HEIGHT=147>  <P>
You can change some of the values in this section</B>:<P>
<B>Note</B></B>: If you save a Desktop boot file (see <A HREF=BOOK_5.HTM#MARKER-9-24>page 53</A>) after changing any settings in this section, the new values will override any configuration changes you've made using the <A NAME=MARKER-9-35> </A>Configuration window (see <A HREF=BOOK_4.HTM#MARKER-9-105>page 43</A>).<P>

<P><B>To</B>: </B><P><UL>
<LI><B><A NAME=MARKER-9-1> </A>Create a <A NAME=MARKER-2-2> </A>RAM disc<A HREF="#FOOTNOTE-9">[9]</A></B>: Drag a red bar to the right until the RAM disc is the size you want. You can only change an existing RAM disc's size if it's empty.
<LI><B>Change the <A NAME=MARKER-2-3> </A>font cache</B>: Drag the red bar to the left or right. See <A HREF="../Book2b/D_4.HTM#HEADING4-59">page 190</A> for more information<A HREF="#FOOTNOTE-10">[10]</A>.
<LI><B>Change the <A NAME=MARKER-2-4> </A>System sprites memory</B>: Drag the red bar to the left or right. If you're running short of memory, you can reduce this - it's not often used.</UL>
<P>
You may notice, when trying to resize a task slot size in the Tasks window, that you just can't select the amount of memory you want. Don't worry; this is a side effect of the way the Tasks window scales the mouse movement to enable computers with a lot of memory to be usable. For small amounts in a slot you have accurate control, but as the slot gets larger the changes in the amount of memory get coarser and coarser. <P>
<A NAME=HEADING6-30> </A>
<H4> Dynamic areas</H4>
This section contains the entry <B><A NAME=MARKER-2-36> </A>Wimp Sprite Pool</B>, a special memory area reserved for the sprites used by the Window manager. There may be other entries here too.<P>
<A NAME=HEADING6-32> </A>
<H2> Forcing tasks and applications to quit</H2>
<A NAME=HEADING6-33> </A>
<H3> Quitting tasks from the Task manager</H3>
You can use the Task manager to force any of the <A NAME=MARKER-2-37> </A>tasks from the first two sections of the Tasks window to quit</B>:<P>
<DL>
<DT><DD>1  Click Menu over the entry for the task you want to quit.<P>
<DT><DD>2  Choose <B>Task/Quit</B>. <P><IMG SRC="PICS3/BO6IM164" WIDTH=351 HEIGHT=110>  <P>
</DL>
The task will quit, and the memory it was using will be freed. Although some programs (including Edit, Draw and Paint) warn you if there is some work you have not saved, not all programs do so; use this command with caution, as a last resort to force a program to quit.<P>
<A NAME=HEADING6-38> </A>
<H3> <A NAME=MARKER-9-38> </A>Quitting tasks using the system monitor (emergency use only)</H3>
Very occasionally the computer will lock up (pressing keys has no effect) or the hourglass will stay on the screen for much longer than is normal. Your <I>Welcome Guide</I> tells you which key combination to press to activate the <A NAME=MARKER-2-39> </A>system monitor (usually Alt-Break)<A NAME=MARKER-2-40> </A>. This displays a dialogue box from which you can selectively quit current tasks.<P><IMG SRC="PICS3/BO6IM165" WIDTH=351 HEIGHT=125>  <P>
You can <B>Stop</B> a particular task (quit it), go on to the <B>Next Task</B> running, or <B>Cancel</B> the system monitor window.<P>
<B>Note 1</B></B>: This is really a last resort, if you're having problems. You may need to reset the computer (see <A HREF=BOOK_7.HTM#MARKER-9-11><I>Troubleshooting</I> on page 71</A>).<P>
<B>Note 2</B></B>: You can also stop some tasks (e.g. <A NAME=MARKER-2-41> </A>printing a file) in a less permanent way by pressing Esc.<P>
<B>Warning</B></B>: Don't stop the internal desktop tasks (Task manager, Filer, ADFS Filer, Resource Filer, Free and Mode Chooser) unless you know what you're doing.<P>
<A NAME=HEADING6-44> </A>
<H2> Controlling tasks from the command line</H2>
Four entries on the Task manager give you access to the RISC OS command line</B>:<P>
<UL>

<LI><B><A NAME=MARKER-2-42> </A>New task</B><P>

<LI><B><A NAME=MARKER-2-43> </A>*Commands</B><P>

<LI><B><A NAME=MARKER-2-44> </A>Task window</B><P>

<LI><B><A NAME=MARKER-2-45> </A>Exit</B>.<P>
</UL>
These are all described in detail in <A HREF="../Book3b/BOOK3_2.HT#HEADING1-0"><I>The command line</I> on page 397</A>. There is a list of useful commands in <A HREF="../Book3b/BOOK3_3.HT#HEADING3-0"><I>Useful star commands</I> on page 421</A>. A full alphabetical list of star commands is given in the file<CODE> StarComms </CODE>in the directory<CODE> Tutorials</CODE> on your hard disc or network.<P>
<A NAME=HEADING6-51> </A>
<H2> <A NAME=MARKER-9-46> </A>Shutting the computer <A NAME=MARKER-2-47> </A>down</H2>
<IMG SRC="PICS3/BO6IM166" WIDTH=81 HEIGHT=112>  You should <B>always</B> shut down your computer immediately before switching it off with the On/Off switch. This<P>
<UL>

<LI>quits all applications and ensures all your work is saved<P>

<LI>logs you off any networks and file servers<P>

<LI>parks any disc drives.<P>
</UL>
Here's how to shut the computer down</B>:<P>
<DL>
<DT><DD>1  Choose <B>Shutdown</B> from the Task manager icon bar menu.<P>
</DL>
<A NAME=MARKER-2-48> </A>If you have any unsaved files, you'll see messages like these</B>:<P><IMG SRC="PICS3/BO6IM167" WIDTH=369 HEIGHT=128>  <P>
<DL>
<DT><DD>2  Either <B>Cancel</B> the shutdown, save your files then choose <B>Shutdown</B> again, or choose <B>Discard</B> to continue shutting down (this quits any unsaved files).<P>
</DL>
When your computer has shut down you'll see the following message</B>:<P><IMG SRC="PICS3/BO6IM168" WIDTH=351 HEIGHT=77>  <P>
<DL>
<DT><DD>3  Now you can switch off the computer, or restart it (as described on <A HREF=BOOK_7.HTM#MARKER-9-11>page 71</A>).<P>
</DL>
<A HREF=BOOK_7.HTM#MARKER-9-11><I>Troubleshooting</I> on page 71</A> tells you how to reset the computer once you've shut it down, or how to reset if there's a problem and you can't use <B>Shutdown</B>.<P>
<A NAME=HEADING6-63> </A>
<H2> <A NAME=MARKER-9-49> </A>Managing memory</H2>
<A NAME=MARKER-9-50> </A>This section gives some suggestions for getting the best out of the memory fitted to your computer. It's most likely to be of use to owners of computers with 4MB RAM (Random Access Memory) or less, but is relevant to all users. <P>
<A NAME=HEADING6-65> </A>
<H3> <A NAME=MARKER-9-51> </A>Maximising RAM</H3>
Some applications load extra modules to the operating system. When you remove such an application from the icon bar, it may leave some or all of these modules behind, since they may be needed by another application. However, when you are very short of space, this behaviour - normally helpful - may mean that you do not have enough memory for the next application.<P>
It is therefore a good idea to<A NAME=MARKER-2-52> </A> shut down and restart the computer before attempting to load an application that will need almost all the computer's RAM.<P>
Follow the instructions on <A HREF=#MARKER-9-46>page 67</A> to restart the computer, then load the application you want to use.<P>
If you have a 2MB computer that runs applications each time you switch on, you can save memory not starting up these applications. <A HREF=BOOK_5.HTM#MARKER-9-41><I>Commenting out lines in a Desktop boot file</I> on page 56</A> shows you one way of doing this. <P>
<A NAME=HEADING6-70> </A>
<H3> Choice of screen display</H3>
<IMG SRC="PICS3/BO6IM169" WIDTH=27 HEIGHT=27>  You can save some memory by using a screen <A NAME=MARKER-2-53> </A>display that does not use much memory. To do this you should typically only use a 16-colour screen display and use a relatively low resolution (typically not more than 640x480). For example, 640x480x16 colours uses 152KB, and 800x600x32K colours uses 940KB.<P>
<A NAME=HEADING6-72> </A>
<H3> Opening directory displays</H3>
<IMG SRC="PICS3/BO6IM170" WIDTH=27 HEIGHT=27>  When you open a display for a<A NAME=MARKER-2-54> </A> directory containing applications, the computer loads the applications' sprite files, which occupy some of the computer's memory. For example, if you have a hard disc and you keep a lot of applications in a single directory, their <A NAME=MARKER-2-55> </A>sprites might take up as much as 30K. If you are very short of memory, you cannot afford to waste this space and you should therefore not open directories containing applications you do not want to use. To achieve this, keep your applications - especially those with large sprite files - in separate directories.<P>
If you hold down Ctrl when opening a directory by double-clicking, the sprites used by any applications are not loaded into the <A NAME=MARKER-2-56> </A>sprite pool; this also saves memory. <P>
<A NAME=HEADING6-75> </A>
<H3> Optimising memory usage</H3>
Use the Task manager to display the computer's current <A NAME=MARKER-2-57> </A>memory usage. You can change any of the red bars to release as much memory as possible for applications. Candidates for reduction include</B>:<P>
<UL>

<LI>Font cache (provided the application does not make extensive use of fonts; if redrawing the screen takes a long time, you've made the font cache too small).<P>
</UL>
You can't reduce the font cache to less than 32K if any fonts are in use.<P>
<UL>

<LI>System sprites</B>: you can reduce this to zero except when playing some games.<P>

<LI>Module area.<P>
</UL>
<A NAME=HEADING6-81> </A>
<H3> Installing more memory</H3>
Perhaps the easiest way to increase the usability of your computer is to <A NAME=MARKER-2-58> </A>add extra memory. Ask your supplier for details.<P>
<A NAME=HEADING6-83> </A>
<H3> Installing video memory</H3>
If your computer is capable of using video RAM (<A NAME=MARKER-2-59> </A>VRAM), then you will benefit from adding some, especially if you want to use 256, 32-thousand or 16-million colour display modes regularly.<P>
<UL>

<LI><A NAME=MARKER-2-60> </A>VRAM speeds up the transfer of display information from the computer to the monitor dramatically. <P>

<LI>VRAM frees the main processor from the overheads of managing the transfer of information to the monitor, allowing it to spend more of its time processing information.<P>

<LI>VRAM also gives you access to improved screen display options; you can access more colours at greater resolutions.<P>

<LI>Any VRAM not used for the screen display is available for use by applications.<P>
</UL>
Your supplier will tell you whether you can install VRAM in your computer.<P>
<A NAME=HEADING6-90> </A>
<H3> <A NAME=MARKER-9-61> </A>Colour printing with little free memory</H3>
You can ignore this section if you are printing to a Postscript printer.<P>
Printing in colour to non-PostScript printers can use large amounts of free memory (e.g. 1MB or more, depending on the printer, the paper size and the chosen settings).<P>
If you get the error<CODE> Not enough memory to print</CODE>, first quit any unused applications, then try to maximise free memory as described above. If this fails, the following may help</B>:<P>
<UL>

<LI>Switch to a screen mode with less colours or a lower resolution (see <A HREF=BOOK_3.HTM#MARKER-9-128><I>Changing the desktop display characteristics</I> on page 15</A>).<P>

<LI>Print pages in Portrait orientation. This requires about half the free memory of printing in Landscape.<P>

<LI>As a last resort, consider using 256-colour quality or a lower resolution (dpi) on the printer. Both of these measures are likely to degrade quality.<P>
</UL>
<HR>

<A NAME="FOOTNOTE-9">[9] The RAM disc size is limited to a maximum of 16MB.
<HR>

<A NAME="FOOTNOTE-10">[10] You can't reduce the cache to less than 32K.
<!-- TOC -->

<HR>
<ADDRESS>RISC OS 3.7 User Guide - 21 JAN 1997</ADDRESS>
<A HREF="BOOK_7.HTM"><P><IMG ALIGN=BOTTOM SRC="next" WIDTH=69 HEIGHT=24>  </A> <A HREF="BOOK_5.HTM"><IMG ALIGN=BOTTOM SRC="prev" WIDTH=69 HEIGHT=24>  </A> <A HREF="USERGUIDE"><IMG ALIGN=BOTTOM SRC="top" WIDTH=69 HEIGHT=24>  </A> <A HREF="TOC.HTM"><IMG ALIGN=BOTTOM SRC="content" WIDTH=69 HEIGHT=24>  </A> <A HREF="../INDEX/MAIN.HTM"><IMG ALIGN=BOTTOM SRC="index" WIDTH=69 HEIGHT=24>  </A><P>
</BODY>
</HTML> 

