<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>16	 Using fonts in applications</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<A NAME=HEADING4> </A>
<A HREF="D_5.HTM"><IMG ALIGN=BOTTOM SRC="next" WIDTH=69 HEIGHT=24></A> <A HREF="D_3.HTM"><IMG ALIGN=BOTTOM SRC="prev" WIDTH=69 HEIGHT=24></A> <A HREF="../BOOKB/USERGUIDE"><IMG ALIGN=BOTTOM SRC="top" WIDTH=69 HEIGHT=24></A> <A HREF="../BOOKB/TOC.HTM"><IMG ALIGN=BOTTOM SRC="content" WIDTH=69 HEIGHT=24></A> <A HREF="../INDEX/MAIN.HTM"><IMG ALIGN=BOTTOM SRC="index" WIDTH=69 HEIGHT=24></A><P>
RISC OS 3.7 User Guide<P>
<HR>
<A NAME=HEADING4-0> </A>
<H1>16  <A NAME=MARKER-9-16> </A>Using <A NAME=MARKER-2-17> </A>fonts in applications  <IMG SRC="PICS1/D4IMAGE9" WIDTH=30 HEIGHT=25></H1>
<HR>
RISC OS uses fonts in all its windows and directory displays. This chapter shows you how to choose, use, control and print with fonts.<P>
Strictly speaking, a <B>font </B>is a set of characters with the same <A NAME=MARKER-2-18> </A>fontname (or typeface), weight, style and size. An example is Homerton Bold Oblique 18pt</B>:<P>
<UL>

<LI><B><A NAME=MARKER-2-19> </A>Typeface</B> is the name (e.g. Homerton) given to a whole font family and describes all fonts with the same general appearance.<P>

<LI><B><A NAME=MARKER-2-20> </A>Weight</B> indicates the thickness of the characters (e.g. Bold).<P>

<LI><B><A NAME=MARKER-2-21> </A>Style</B> is the variation of the basic typeface (e.g. Oblique).<P>

<LI><B>Size</B> is measured in points (see <A HREF=#MARKER-9-27>page 186</A>).<P>
</UL>
<A NAME=HEADING4-7> </A>
<H2> RISC OS fonts</H2>
Your computer is supplied with a set of <A NAME=MARKER-2-23> </A>fonts permanently built in. You can choose the font used by the Desktop (see <A HREF="../BOOKB/BOOK_4.HTM#HEADING4-108"><I>Fonts</I> on page 46</A>) and use different fonts in some application windows that allow it (e.g. Draw). Here are the fonts supplied</B>:<P><IMG SRC="PICS1/D4IMAG10" WIDTH=351 HEIGHT=187><P>
Most RISC OS fonts are Acorn versions of standard fonts. The table overleaf tells you more about this.<P>
Most fonts can be used in any size and have italic and bold variants; some of them use <A NAME=MARKER-2-24> </A>proportional spacing, so that a narrow letter such as 'l' takes up less horizontal space than a wide letter, such as 'M'. Other fonts are 'monospaced' (or <A NAME=MARKER-2-25> </A>fixed pitch).
<P><B>RISC OS font: Equivalent: Description</B><UL>
<LI><B><A NAME=MARKER-2-1> </A>Corpus</B>: <A NAME=MARKER-2-2> </A>Courier</B>: Fixed pitch
<LI><B><A NAME=MARKER-2-3> </A>Homerton</B>: <A NAME=MARKER-2-4> </A>Helvetica</B>: Proportional
<LI><B><A NAME=MARKER-2-5> </A>Newhall</B>: <A NAME=MARKER-2-6> </A>New Century SchoolBook</B>: Proportional
<LI><B><A NAME=MARKER-2-7> </A>Sassoon</B>: None (special Acorn font)</B>: Proportional
<LI><B><A NAME=MARKER-2-8> </A>Selwyn</B>: <A NAME=MARKER-2-9> </A>Zapf Dingbats</B>: Includes arrows, stars, ticks and crosses
<LI><B><A NAME=MARKER-2-10> </A>Sidney</B>: <A NAME=MARKER-2-11> </A>Symbol</B>: Includes greek and mathematical symbols
<LI><B><A NAME=MARKER-2-12> </A>System (fixed)</B>: None (special Acorn font): 'Old style' fixed pitch
<LI><B>System (Medium)</B>: None (special Acorn font): 'Old style' proportional
<LI><B><A NAME=MARKER-2-13> </A>Trinity</B>: <A NAME=MARKER-2-14> </A>Times Roman</B>: Proportional
<LI><B><A NAME=MARKER-2-15> </A>WimpSymbol</B>: Used by the desktop; don't use this in applications</UL>
<P>
<A NAME=HEADING4-11> </A>
<H3> Serif and sans serif <A NAME=MARKER-2-26> </A>fonts</H3>
A serif font (like Trinity) has strokes at the edges of the letters which allow your eye to follow on from one letter to another. Sans serif fonts (like Homerton) don't have these. Sans serif fonts can make the page look tidier; they're often used for headings and other places where large font sizes are used.<P><IMG SRC="PICS1/D4IMAG11" WIDTH=349 HEIGHT=59><P>
<A NAME=HEADING4-13> </A>
<H3> <A NAME=MARKER-9-27> </A>Font size</H3>
Most applications let you select the size of the <A NAME=MARKER-2-28> </A>font you want to use. Font size is measured in points (a point being 1/72 of an inch) and is the distance between the highest ascender and lowest descender of characters in the font</B>:<P><IMG SRC="PICS1/D4IMAG12" WIDTH=351 HEIGHT=41><P>
Some applications also allow you to set the font height separately. If you want characters with different height and width values, set the size first and then the height. Acorn fonts can be sized to any height or width allowed by the application</B>:<P><IMG SRC="PICS1/D4IMAG13" WIDTH=351 HEIGHT=61><P>
<A NAME=HEADING4-16> </A>
<H3> Outline and bitmap fonts</H3>
Fonts are controlled by a part of the operating system called the <A NAME=MARKER-2-29> </A>Font manager. Initially, the Font manager stores just the outlines of fonts.<P>
When you choose to use a particular font, the computer calculates the <I><A NAME=MARKER-2-30> </A>bitmap</I> font needed to display that font at the desired size. A bitmap tells the computer exactly which pixels to paint on the screen to render a given character at a given size.<P>
Outline fonts are converted into bitmap <A NAME=MARKER-2-31> </A>fonts because the computer can send these to the screen much faster.<P>
<A NAME=HEADING4-20> </A>
<H4> Adding more outline fonts</H4>
You can purchase additional Acorn outline <A NAME=MARKER-2-32> </A>fonts for your system from third party suppliers (use !Boot to add new fonts - see <A HREF="../BOOKB/BOOK_4.HTM#HEADING4-108">page 46</A>). You can also use many of the PostScript type 1 fonts available (see <A HREF="../Book1b/C_9.HTM#HEADING9-0">page 169</A>).<P>
<A NAME=HEADING4-22> </A>
<H2> <A NAME=MARKER-9-33> </A>Choosing and using fonts in applications</H2>
<A NAME=HEADING4-23> </A>
Two <A NAME=MARKER-2-34> </A>applications (Edit and Draw) are supplied that use fonts, but they use them in different ways</B>:
<UL>

<LI>Edit can display text on the screen in any RISC OS font. However, it can only print out in the font that is standard on your printer.<P>

<LI>Draw can both display and print fonts of varying size and typeface.<P>
</UL>
Most applications you'll buy that can make use of fonts (e.g. desktop publishing packages, word processors or drawing tools) will behave like Draw.<P>
<A NAME=HEADING4-27> </A>
<H3> Using fonts in Edit</H3>
You can use the <B>Display</B>/<B>Font</B>/<B>Font List</B> menu to change the font used to display text on the screen. <P>
<A NAME=HEADING4-29> </A>
<H3> Using fonts in Draw</H3>
To use different fonts in Draw</B>:<P>
<DL>
<DT><DD>1  Select the Text tool.<P>
<DT><DD>2  Click Menu over the Draw window.<P>
<DT><DD>3  Choose a font from the <B>Style</B>/<B>Font name</B>/<B>Font List</B> menu by clicking Adjust.<P><IMG SRC="PICS1/D4IMAG14" WIDTH=351 HEIGHT=172><P>
<DT><DD>4  Choose a font size from the <B>Style</B>/<B>Font size</B>/<B>Size</B> menu.<P>
</DL>
Now, when you type in text, it will appear in your chosen font. See <A HREF=D_5.HTM#HEADING5-361><I>Defining a path object's style</I> on page 237</A> for more details. You can also choose the outline and fill colours for the text.<P>
<A NAME=HEADING4-36> </A>
<H3> Using !Chars to preview a typeface</H3>
You can use the Chars application to see what a particular typeface looks like before you decide to use it. You can also use Chars to enter special characters into an application window or dialogue box. See <A HREF="../Book2ab/E_7.HTM#HEADING7-0"><I>Chars</I> on page 351</A>.<P>
For other ways of entering special characters, see <A HREF="../Book3b/BOOK3_24.H#HEADING24-0"><I>Character sets</I> on page 457</A>.<P>
<A NAME=HEADING4-39> </A>
<H2> <A NAME=MARKER-9-35> </A>How the Font manager works</H2>
The Font manager uses various techniques to optimise font quality (on-screen or printed) whilst ensuring that your computer's performance doesn't suffer</B>:<P>
<UL>
<LI>Anti-aliasing<A NAME=MARKER-2-37> </A> <A NAME=MARKER-2-38> </A><P>
<LI>Hinting<P>
<LI><A NAME=MARKER-2-39> </A>Font caching of bitmap fonts.<P>
</UL>
<A NAME=HEADING4-44> </A>
<H3> Anti-aliasing</H3>
If the outline of a character passes partially through a pixel (a pixel is the smallest building block available on the monitor screen), a non-anti-aliasing font can only paint the whole pixel or none of it. The result is a jagged edge to the character.<P>
<A NAME=MARKER-2-40> </A>Anti-aliasing relies on an optical trick</B>: the jagged edges are smoothed out by the addition of extra pixels in intermediate colours. You can see how this is done by first typing some text in an <B>Edit</B> window using a fairly small size (12 or 14 point) and choosing <B>Display/Font/Trinity/Medium</B> to display the text in an anti-aliased font. Then use !CloseUp (described on <A HREF="../Book2ab/E_8.HTM#HEADING8-0">page 355</A>) to have a closer look at the text.<P><IMG SRC="PICS1/D4IMAG15" WIDTH=351 HEIGHT=66><P>
<A NAME=HEADING4-47> </A>
<H4> <A NAME=MARKER-9-41> </A>Sub-pixel <A NAME=MARKER-2-42> </A>anti-aliasing</H4>
This controls a refinement of anti-aliasing in which four separate versions of each character are stored in the font cache. This can have a beneficial effect on the quality of characters at small sizes. However it is heavy on computing power (see <A HREF=#MARKER-9-46><I>Controlling anti-aliasing</I> on page 190</A>) and may result in unacceptably slow screen updates. This parameter is relevant only to the screen; it does not affect printing.<P>
<A NAME=HEADING4-49> </A>
<H3> Hinting</H3>
This is another technique used by the Font manager to improve the appearance of fonts. It applies both to the screen and to printers. The outline of the character being displayed (or printed) is subtly altered in ways that depend on the resolution of the image being produced. It is used on-screen if anti-aliasing is disabled.<P>
Hinting is particularly effective when fonts are scaled, and when half-tones are not available (as on most printers). You can't control hinting, as you can anti-aliasing; it's used automatically if you disable anti-aliasing.<P>
<A NAME=HEADING4-52> </A>
<H3> Font caching of bitmap fonts</H3>
The computer keeps as many bitmap <A NAME=MARKER-2-43> </A>fonts as it can in an area of memory called the font cache. If the font cache is not large enough to hold the bitmaps of all the current fonts, any extra fonts are loaded as necessary.<P>
The computer attempts to retain in memory the fonts which are in greatest demand, but this requires some sophisticated guesswork. Since this is not always totally successful (the computer cannot read your mind!) there is sometimes a delay as the font is loaded from the filing system and displayed on the screen.<P>
<A NAME=HEADING4-55> </A>
<H2> <A NAME=MARKER-9-44> </A>Matching font performance to your needs</H2>
<IMG SRC="PICS1/D4IMAG16" WIDTH=29 HEIGHT=38>The Font manager is set up to provide a reasonable blend of screen quality and performance for the majority of users. There is inevita<A NAME=MARKER-2-45> </A>bly a trade-off between speed and font appearance. RISC OS provides two ways of tailoring font performance to your needs and preferences. You can<P>
<UL>

<LI>change the way anti-aliasing is done (or switch it off altogether)<P>

<LI>change the size of the font cache.<P>
</UL>
<A NAME=HEADING4-59> </A>
<H3> <A NAME=MARKER-9-46> </A>Controlling anti-aliasing</H3>
You can use the Fonts Configuration window of !Boot (see <A HREF="../BOOKB/BOOK_4.HTM#HEADING4-108">page 46</A>) to place an upper limit on the size of anti-aliased fonts; fonts in larger sizes are printed without anti-aliasing. Larger fonts benefit less from anti-aliasing, and since a computed anti-aliased bitmap font occupies a lot more memory than a non-anti-aliased bitmap, for most purposes it is not worth displaying large fonts with anti-aliasing. This parameter is relevant only to the screen display<A NAME=MARKER-2-47> </A>.<P>
<B>Note</B></B>: If you use sub-pixel anti-aliasing, you should increase your font cache by four times to store the extra font shapes needed. If you don't, your computer may slow down considerably.<P>
<A NAME=HEADING4-62> </A>
<H3> <A NAME=MARKER-9-48> </A>Changing the minimum size of the font cache</H3>
<IMG SRC="PICS1/D4IMAG17" WIDTH=38 HEIGHT=30>  If you're using a lot of different <A NAME=MARKER-2-49> </A>fonts, increasing the minimum size of the cache means that the text is drawn more quickly. You can set it permanently (see <A HREF="../BOOKB/BOOK_4.HTM#HEADING4-97"><I>Memory</I> on page 43</A>) or for the current session only (see <A HREF="../BOOKB/BOOK_4.HTM#HEADING6-24"><I>System memory allocation</I> on page 63</A>).<P>
The best size for the font cache depends on several factors</B>: how much memory your computer has, whether you have a hard disc, and the number of fonts you're using. A computer with 4MB of memory can benefit from a cache of 256KB.<P>
If the cached bitmaps value is set high, and you're using a few large fonts - for headlines, perhaps - they may take up all the font cache, flushing out smaller fonts. The smaller characters will then have to be cached again when needed. This effect can slow down printing and the display.<P>
This parameter is relevant for the printer, especially if you are printing documents with a lot of text. Its ideal value depends on the screen mode, printer type and the printer resolution. If you are printing at a high resolution, you may want to increase the font cache.<P>
<B>Warning</B></B>: The Font cache size set in the Memory allocation screen is overridden by the value given in your Desktop boot file. If you change the Font cache size you must also save your Desktop boot file again so that your change can take effect (see <A HREF="../BOOKB/BOOK_5.HTM#HEADING5-33"><I>Saving a Desktop boot file</I> on page 53</A>).<P>
<B>Note</B></B>: Do <B>not</B> set a font cache of less than 32K. Sub-pixel anti-aliasing (see <A HREF=#MARKER-9-41>page 189</A>) requires more font cache. For example, Homerton.Medium as a desktop font needs a font cache of 32K. With sub-pixel anti-aliasing turned on, it needs 128K. If you see an hourglass on the screen as the desktop is redrawn you may need to increase the font cache size.<P>
<A NAME=HEADING4-69> </A>
<H4> Allowing the font cache to grow</H4>
You can set the maximum font cache size using the Font cache limit option on the Memory allocation screen of !Boot.<P><IMG SRC="PICS1/D4IMAG18" WIDTH=351 HEIGHT=158><P>
If the font cache is too small, the Font manager attempts to increase its size up to the <B>Font cache limit</B>. If this happens, it shrinks back to the normal current size as soon as any fonts can be discarded. The Font manager decides to do this rather than throw away cached blocks of fonts currently displayed.<P>
If the Font cache limit is zero, or smaller than the default font cache, the cache will not expand. If you are using several fonts you may want to set this to a high value (e.g. 256K). A rough yardstick, if you're using fonts intensively, is to allow 64K per megabyte of memory.<P>
<A NAME=HEADING4-73> </A>
<H2> Printing with fonts</H2>
<IMG SRC="PICS1/D4IMAG19" WIDTH=38 HEIGHT=20>When <A NAME=MARKER-2-50> </A>printing<A NAME=MARKER-2-51> </A>, there are conflicting requirements for memory. The Font manager needs memory to cache fonts, and the printer driver needs memory to build up a page image to send to the printer. As both of these affect printing speed, you will have to experiment to find the optimum. Typically, more memory given to the font cache (or maximum font cache option) results in quicker printing.<P>
<P>
The maximum size of cached bitmaps affects whether fonts are cached when printing. If this value is smaller than your typical body text size, there may be a very long pause at the start of each printed page, as all the characters on the page are rendered from the outline form.<P>
The RISC OS Printer manager program sits between an application and the printer, and oversees the printing process. Printers, printing and printer drivers are explained fully in <A HREF="../Book1b/C_6.HTM#HEADING6-0"><I>Printing your files</I> on page 143</A> and <A HREF="../Book1b/C_5.HTM#HEADING5-0"><I>Setting up printers</I> on page 125</A>.<P>
<A NAME=HEADING4-78> </A>
<H4> <A NAME=MARKER-2-52> </A>PostScript printers</H4>
PostScript printers have their own set of <A NAME=MARKER-2-53> </A>fonts stored internally. When you print to a PostScript printer, most Acorn<A NAME=MARKER-2-54> </A> <A NAME=MARKER-2-55> </A>fonts are mapped to these internal PostScript fonts. Acorn fonts that cannot be mapped to PostScript fonts (e.g. Sassoon) are sent to the printer by the Printer manager as they are needed.<P>
Most Acorn fonts can be mapped to PostScript fonts. For more information about using Acorn fonts with PostScript printers, refer to <A HREF="../Book1b/C_8.HTM#HEADING8-0"><I>FontPrint</I> on page 163</A>.<P>
<A NAME=HEADING4-81> </A>
<H4> Converting PostScript fonts to outline fonts</H4>
It is possible to convert standard PostScript Type 1 <A NAME=MARKER-2-56> </A>fonts to Acorn Outline fonts using the T1ToFont application <A HREF="../Book1b/C_9.HTM#HEADING9-0"><I>T1ToFont</I> on page 169</A>).<P>
<A NAME=HEADING4-83> </A>
<H2> Changing the desktop font</H2>
<A NAME=MARKER-2-57> </A>You can change the font displayed in directory displays, menus and so on (see <A HREF="../BOOKB/BOOK_4.HTM#HEADING4-108">page 47</A>). It's best to choose one of the fonts stored in the computer's ROM (e.g. Homerton or Trinity) as the screen will redraw more quickly.<P>
<A NAME=HEADING4-85> </A>
<H2> Troubleshooting </H2>
<A NAME=MARKER-2-58> </A>If every screen redraw causes intensive disc and <A NAME=MARKER-2-59> </A>hourglass activity, then the font cache may be too small to hold the range of fonts you are trying to use. In these circumstances, try the following</B>:<P>
<UL>

<LI>Increase the size of the font cache using the <B>Task manager</B>/<B>Task display</B> window. The addition of even small amounts of cache can often improve things dramatically.<P>

<LI><IMG SRC="PICS1/D4IMAG20" WIDTH=29 HEIGHT=37>  Reduce the maximum size for anti-aliasing. This will enable the font cache to be used more economically with a large number of fonts. You should not normally reduce the maximum anti-aliasing size below 12pt.<P>

<LI>Reduce the maximum size of cached bitmaps value. This should reduce disc activity, but the action of redrawing the screen will become much slower.<P>

<LI>Use a smaller selection of fonts and font sizes in your document.<P>
</UL>
<!-- TOC -->

<HR>
<ADDRESS>RISC OS 3.7 User Guide - 22 JAN 1997</ADDRESS>
<A HREF="D_5.HTM"><IMG ALIGN=BOTTOM SRC="next" WIDTH=69 HEIGHT=24></A> <A HREF="D_3.HTM"><IMG ALIGN=BOTTOM SRC="prev" WIDTH=69 HEIGHT=24></A> <A HREF="../BOOKB/USERGUIDE"><IMG ALIGN=BOTTOM SRC="top" WIDTH=69 HEIGHT=24></A> <A HREF="../BOOKB/TOC.HTM"><IMG ALIGN=BOTTOM SRC="content" WIDTH=69 HEIGHT=24></A> <A HREF="../INDEX/MAIN.HTM"><IMG ALIGN=BOTTOM SRC="index" WIDTH=69 HEIGHT=24></A><P>
</BODY>
</HTML> 

